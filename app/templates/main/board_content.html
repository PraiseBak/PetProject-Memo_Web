{% extends 'main/clone_base.html' %}
{% block content %}

<html>
                
    <body>

        <div class="container my-3">
            
            <header>



                {% for field, errors in form.errors.items() %}
                <div class="alert alert-danger" role="alert">
                    <strong>{{ form[field].label }}</strong>: {{ ', '.join(errors) }}
                </div>
                {% endfor %}
                <!-- flash 오류 -->
                {% for message in get_flashed_messages() %}
                <div class="alert alert-danger" role="alert">
                    {{ message }}
                </div>
                {% endfor %}


                <div class= "upside">

                    <h3 class="title">
                        <span class="title_text" style=float:left;> &nbsp Title: {{ content[0]['board_content_title'] }}
                        </span>

                        <style>
                            .title_text
                            {
                                text-transform: none;
                            }
                        </style>
                        
                    </h3>
                

            
                    <div class="btns">
                        <div class="modify">  
                            <a href="#" url="{{ url_for('clone_board.modify',board_content_idx=content[0]['board_content_idx'],password=-1)}}" 
                                class="button" id="modifyBtn" onclick="btn_click(this)">수정</a>
                        </div>
                        <div class="delete">  
                            <a href="#" url="{{ url_for('clone_board.delContent',board_content_idx=content[0]['board_content_idx'],password=-1) }}"
                                class="button" id="deleteBtn" onclick=btn_click(this)> 삭제 </a>
                        </div>
                    </div>
                </div>

                <style>
                    .modify{
                        list-style: none;
                        float: right;
                        margin-right:20px;
                        box-sizing: border-box;
                    }
                    .delete{
                        list-style: none;
                        float: right;
                        margin-right:10px;
                        box-sizing: border-box;
                    }
                    .container{
                        list-style: none;
                    }
                    .upside{
                        border-bottom: 2px solid #bcbcbc; 
                        height: 65px;

                    }
                    
                    .comment_area{
                        text-align:left;
                    }
                </style>
                
            </header>
            <br>
            <br>
            <div class="write_div" style="float:left;">
                &nbsp&nbsp&nbsp {{content[0]['board_content']}}
            </div>
            
            <br>
            <br>
            <br>
            <br>
        </div> 
            <hr color= "black">

        
        <div class="comment_area">

            <br><br><br><br>

            <hr>
            <form method="post" class="post-form">
                <div class="content_area">
                    <input type="username" placeholder="닉네임" class="form-control" name="username" id="username" > <br>
                    <input type="password" maxlength="10" placeholder="비밀번호" size= "10"
                        class="form-control" name="password" id="password" style="width:185px;">
                    <form action="{{ url_for('clone_board.content',board_content_idx=board_content_idx) }}" method="post">
                        {{ form.csrf_token }}
                        <label for="content_text" style="font-size:16px;"></label>
                        <textarea name="content_text" id="content_text" rows="4"></textarea>
                        <input type="submit" style="font-size:16px;" value="등록">
                    </form>
                </div>
            </form>


            <style>
                .content_area{
                    text-align:left;
                }
            </style>
            <table class="table">
                <tr class="thead-dark">
                </tr>   
                <tbody> 
                    {%for comment in comment_data %}
                        <tr>
                            <td style = "cursor:pointer;" >
                            {{ comment['user_name'] }}
                            </td>
                            <td style = "cursor:pointer;" >
                            {{ comment['comment'] }}
                            </td>
                            <td style = "cursor:pointer;" >
                            {{ comment['write_time'] }}
                            </td>
                            <td>
                                <div id="comment_btns">
                                    <div class=button id="modify_btn" 
                                        url="{{ url_for('clone_board.modifyComment',board_content_idx=content[0]['board_content_idx'],comment_password=0) }}" onclick='btn_click(this);'>
                                        수정
                                    </div>
                                    
                                    <div class=button id="del_btn" onclick=btn_click(this) 
                                        url="{{ url_for('clone_board.delComment',board_content_idx=content[0]['board_content_idx'],comment_password=0)}}">
                                        삭제
                                    </div>
                        
                                </div>

                                <style>
                                    #comment_btns{
                                        text-align:right;
                                    }


                                </style>
                                
                            <td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>






        </div>
            



    </body>
    <br>
</html>

{% endblock %}


{% block script %}


<script type='text/javascript'>

function btn_click(obj)
{
    var result = prompt("비밀번호를 입력하세요");
    var url = $(obj).attr('url');
    url = url.replace(-1,result);
    location.href = url;

}

$(document).ready(function(){
    function btn_click(str){
        alert("asdf");
        //document.write(url[0].innerText);
        /*
        var result = prompt("비밀번호를 입력하세요");
        if(result != "{{content[0]['content_password']}}")
        {
            alert("비밀번호가 틀렸습니다");
            location.href = location.href;
        }
        else
        {
            var url = document.getElementById(str+"_url");
            document.write("0번째 : " + url[0].innerText);
            location.href = $(this).data('uri') + content[0]['content_password'];  // data-uri 속성값으로 URL 호출
        }
        */
    }

});
</script>

{% endblock %}